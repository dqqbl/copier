(()=>{"use strict";var t={136:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function c(t){try{a(i.next(t))}catch(t){o(t)}}function s(t){try{a(i.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,s)}a((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=n(593);chrome.runtime.onInstalled.addListener((({reason:t})=>{t===chrome.runtime.OnInstalledReason.INSTALL&&chrome.storage.sync.set({whiteList:[]})})),chrome.webNavigation.onCommitted.addListener((t=>{const{url:e,tabId:n,frameId:i}=t;(null==t?void 0:t.url.startsWith("http"))&&chrome.storage.sync.get(["whiteList"],(t=>{t.whiteList.includes((0,r.getDomain)(e))?chrome.scripting.removeCSS({target:{tabId:n},files:["inject.css"]}):0===i&&(chrome.scripting.insertCSS({target:{tabId:n},files:["inject.css"]}),chrome.scripting.executeScript({target:{tabId:n},func:o}))}))})),chrome.storage.onChanged.addListener((t=>i(void 0,void 0,void 0,(function*(){var e,n;const i=yield(0,r.getCurrentTab)();(null===(e=t.whiteList)||void 0===e?void 0:e.newValue)&&(null==i?void 0:i.url.startsWith("http"))&&((null===(n=t.whiteList)||void 0===n?void 0:n.newValue.includes((0,r.getDomain)(null==i?void 0:i.url)))?chrome.scripting.removeCSS({target:{tabId:i.id},files:["inject.css"]}):(chrome.scripting.insertCSS({target:{tabId:i.id},files:["inject.css"]}),chrome.scripting.executeScript({target:{tabId:i.id},func:o})))}))));const o=()=>{window.addEventListener("copy",(t=>{t.stopPropagation()}),!0)}},593:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function c(t){try{a(i.next(t))}catch(t){o(t)}}function s(t){try{a(i.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,s)}a((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getSyncState=e.setSyncState=e.getDomain=e.getCurrentTab=void 0,e.getCurrentTab=function(){return n(this,void 0,void 0,(function*(){let[t]=yield chrome.tabs.query({active:!0,lastFocusedWindow:!0});return t}))},e.getDomain=t=>(t||"").match(/(?<=(http|https):\/\/).+?(?=\/)/)[0],e.setSyncState=(t,e=(()=>{}))=>{chrome.storage.sync.set(t,e)},e.getSyncState=(t,e=(()=>{}))=>{chrome.storage.sync.get(t,e)}}},e={};!function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}(136)})();